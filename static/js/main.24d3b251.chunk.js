(this["webpackJsonptest-pokemon"]=this["webpackJsonptest-pokemon"]||[]).push([[0],{20:function(e,t,n){e.exports={wrapper:"navigation_wrapper__fkgdO",logo:"navigation_logo__iwAe5"}},21:function(e,t,n){e.exports={wrapper:"pokemons_wrapper__DnBo9",main:"pokemons_main__1l_L4",pokemonProperty:"pokemons_pokemonProperty__2RED9"}},22:function(e,t,n){e.exports={pages:"pages_pages__1J-fc",br:"pages_br__SbHGn"}},28:function(e,t,n){e.exports={wrapper:"pokemon_wrapper__30FDF",main:"pokemon_main__cpZgd"}},39:function(e,t,n){e.exports={wrapper:"preloader_wrapper__8zPFl"}},52:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(0),r=n.n(a),c=n(18),s=n.n(c),i=(n(52),n(2)),p=n(11),m=n(21),u=n.n(m),j=n(10),b=n.p+"static/media/pokeBall.0f4ce750.png",f=r.a.memo((function(e){return Object(o.jsx)("div",{className:u.a.wrapper,children:Object(o.jsx)("div",{className:u.a.main,children:e.pokemons.map((function(e){return Object(o.jsxs)("div",{className:u.a.pokemonProperty,children:[Object(o.jsxs)(j.b,{to:"/pokemon/"+e.name,children:[Object(o.jsx)("img",{src:e.sprites.front_default||b,alt:"pokemonImg"})," "]}),Object(o.jsx)("p",{children:e.name})]},e.name)}))})})})),d=n.p+"static/media/preloaderImg.2b1fb524.gif",O=n(39),l=n.n(O),k=r.a.memo((function(){return Object(o.jsx)("div",{className:l.a.wrapper,children:Object(o.jsx)("img",{src:d,alt:"preloader"})})})),h=n(14),g=Object(h.a)((function(e){return e.pokemons.pokemons}),(function(e){return e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{name:e.name[0].toUpperCase()+e.name.slice(1)})})).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))})),x=r.a.memo((function(e){return Object(o.jsx)("div",{children:e.isLoading?Object(o.jsx)(k,{}):Object(o.jsx)(f,Object(i.a)({},e))})})),v=Object(p.b)((function(e){return{pokemons:g(e),isLoading:e.pokemons.isLoading}}),null)(x),_=n(20),w=n.n(_),N=r.a.memo((function(e){var t=e.pokemonNamesUpperCase.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(j.b,{to:"/pokemon/"+e,children:e})},e)}));return Object(o.jsx)("div",{className:w.a.wrapper,children:t})})),y=n(12),L=n.n(y),P=n(16),E=n(44),T=n(40).create({baseURL:"https://pokeapi.co/api/v2/"}),I=function(e,t){return T.get("pokemon?limit=".concat(e,"t&offset=").concat(t))},A=function(e){return T.get("pokemon/".concat(e))},C="test-pokemon/pokemons/GET-POKEMONS",G="test-pokemon/pokemons/SET-NEW-ARRAY",S="test-pokemon/pokemons/TOGGLE-IS-LOADING",D={pokemons:[],isLoading:!1},M=function(e){return{type:S,isLoading:e}},R=function(e){return e.pages.pokemonNames},U=Object(h.a)(R,(function(e){return e.sort()})),F=Object(h.a)(R,(function(e){return e.map((function(e){return e[0].toUpperCase()+e.slice(1)})).sort()})),B=n.p+"static/media/pokeapi.888baca4.png",J=r.a.memo((function(e){return Object(a.useEffect)((function(){e.pokemonNames.map((function(t){return e.getPokemons(t)}))}),[e]),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:w.a.logo,children:Object(o.jsx)("img",{src:B,alt:"logoPokiApi"})}),Object(o.jsx)(N,Object(i.a)({},e))]})})),K=Object(p.b)((function(e){return{pokemonNames:U(e),pokemonNamesUpperCase:F(e)}}),{getPokemons:function(e){return function(){var t=Object(P.a)(L.a.mark((function t(n){var o;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(M(!e)),t.next=4,A(e);case 4:o=t.sent,n((a=o.data,{type:C,pokemon:a})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0.message);case 11:case"end":return t.stop()}var a}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(J),z=n(22),H=n.n(z),W=r.a.memo((function(e){for(var t=Math.ceil(e.countPokemons/e.limit),n=[],a=1;a<=t;a++)n.push(a);var r=e.offset/e.limit+1;return Object(o.jsx)("div",{className:H.a.pages,children:n.map((function(t){return Object(o.jsx)("span",{onClick:function(){e.onPageChanged(t)},className:r===t?H.a.br:H.a.br2,children:t},t)}))})})),Y="test-pokemon/pokemons/GET-POKEMONS-NAMES",Z="test-pokemon/pokemons/SET-LIMIT",q="test-pokemon/pokemons/SET-OFFSET",Q="test-pokemon/pokemons/SET-TOTAL-COUNT",V={pokemonNames:[],limit:100,offset:0,countPokemons:1e3},X=function(e){return e.pages.limit},$=Object(h.a)((function(e){return e.pages.offset}),(function(e){return e})),ee=function(e){return e.pages.countPokemons},te=r.a.memo((function(e){Object(a.useEffect)((function(){e.getPokemonName(e.limit,e.offset)}),[e.offset]);return Object(o.jsx)("div",{children:Object(o.jsx)(W,Object(i.a)(Object(i.a)({},e),{},{onPageChanged:function(t){e.setNewArray();var n=100*(t-1);e.setOffset(n)}}))})})),ne=Object(p.b)((function(e){return{limit:X(e),offset:$(e),countPokemons:ee(e)}}),{getPokemonName:function(e,t){return function(){var n=Object(P.a)(L.a.mark((function n(o){var a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(e,t);case 3:a=n.sent,o((c=a.data.results,{type:Y,pokemonNames:c})),o((r=a.data.count,{type:Q,count:r})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0.message);case 11:case"end":return n.stop()}var r,c}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},setOffset:function(e){return{type:q,offset:e}},setNewArray:function(){return{type:G}}})(te),oe=n(41),ae=n(42),re=n(46),ce=n(45),se=n(28),ie=n.n(se),pe=n.p+"static/media/spitz.1f15689f.png",me=r.a.memo((function(e){var t=e.pokemon.abilities.map((function(e){return e.ability.name+" / "})),n=e.pokemon.types.map((function(e){return e.type.name+" / "})),a=e.pokemon.name[0].toUpperCase()+e.pokemon.name.slice(1);return Object(o.jsxs)("div",{className:ie.a.wrapper,children:[Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:a})}),Object(o.jsx)("div",{children:Object(o.jsxs)(j.b,{to:"/",children:[" ",Object(o.jsx)("img",{src:e.pokemon.img||pe,alt:"pokemonImg"})]})}),Object(o.jsxs)("div",{className:ie.a.main,children:[Object(o.jsxs)("p",{children:["#",e.pokemon.id]}),Object(o.jsxs)("p",{children:["Type: ",t]}),Object(o.jsxs)("p",{children:["Ability: ",n]}),Object(o.jsxs)("p",{children:["Height: ",e.pokemon.height]}),Object(o.jsxs)("p",{children:["Weight: ",e.pokemon.weight]})]})]})})),ue=function(e){return e.pokemon.pokemon},je=n(4),be=n(13),fe="test-pokemon/pokemon/GET-POKEMON",de="test-pokemon/pokemon/TOGGLE-IS-LOADING",Oe={pokemon:{},isLoading:!0},le=function(e,t,n,o,a,r,c){return{type:fe,pokemon:{abilities:e,height:t,id:n,name:o,types:a,weight:r,img:c}}},ke=function(e){return{type:de,isLoading:e}},he=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ae.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.name[0].toLowerCase()+this.props.match.params.name.slice(1);e||(e=1),this.props.getIsLoading(!0),this.props.getPokemon(e)}},{key:"render",value:function(){return Object(o.jsx)("div",{children:this.props.isLoading?Object(o.jsx)(k,{}):Object(o.jsx)(me,Object(i.a)({},this.props))})}}]),n}(r.a.PureComponent),ge=Object(be.d)(Object(p.b)((function(e){return{pokemon:ue(e),isLoading:e.pokemon.isLoading}}),{getPokemon:function(e){return function(){var t=Object(P.a)(L.a.mark((function t(n){var o;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:o=t.sent,n(le(o.data.abilities,o.data.height,o.data.id,o.data.name,o.data.types,o.data.weight,o.data.sprites.other.dream_world.front_default)),o.data.name===e?n(ke(!1)):console.log("LOADING ERROR"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getIsLoading:ke}),je.e)(he),xe=function(){return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)("header",{children:Object(o.jsx)(ne,{})}),Object(o.jsx)("nav",{children:Object(o.jsx)(K,{})}),Object(o.jsxs)("main",{children:[Object(o.jsx)(je.a,{path:"/pokemon/:name",render:function(){return Object(o.jsx)(ge,{})}}),Object(o.jsx)(je.a,{path:"/",render:function(){return Object(o.jsx)(v,{})}})]})]})},ve=n(43),_e=Object(be.c)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(i.a)(Object(i.a)({},e),{},{pokemons:[].concat(Object(E.a)(e.pokemons),[t.pokemon])});case G:return Object(i.a)(Object(i.a)({},e),{},{pokemons:[]});case S:return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.isLoading});default:return e}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(i.a)(Object(i.a)({},e),{},{pokemonNames:t.pokemonNames.map((function(e){return e.name}))});case Z:return Object(i.a)(Object(i.a)({},e),{},{limit:t.limit});case q:return Object(i.a)(Object(i.a)({},e),{},{offset:t.offset});case Q:return Object(i.a)(Object(i.a)({},e),{},{countPokemons:t.count});default:return e}},pokemon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(i.a)(Object(i.a)({},e),{},{pokemon:t.pokemon});case de:return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.isLoading});default:return e}}}),we=Object(be.e)(_e,Object(be.a)(ve.a));window.store=we;var Ne=we;s.a.render(Object(o.jsx)(j.a,{basename:"/pokemonsTestTask",children:Object(o.jsx)(p.a,{store:Ne,children:Object(o.jsx)(xe,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.24d3b251.chunk.js.map